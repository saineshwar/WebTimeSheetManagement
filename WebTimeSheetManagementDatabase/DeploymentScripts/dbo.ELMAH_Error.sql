CREATE PROCEDURE [dbo].[Populate_dbo_ELMAH_Error]
AS
BEGIN
/*
	Table's data:    [dbo].[ELMAH_Error]
	Data Source:     [DESKTOP-S4VLAOQ].[TimesheetDB]
	Created on:      4/29/2021 2:21:56 PM
	Scripted by:     DESKTOP-S4VLAOQ\Alacer02
	Generated by:    Data Script Writer - ver. 2.3.0.0
	GitHub repo URL: https://github.com/SQLPlayer/DataScriptWriter/
*/
PRINT 'Populating data into [dbo].[ELMAH_Error]';

IF OBJECT_ID('tempdb.dbo.#dbo_ELMAH_Error') IS NOT NULL DROP TABLE #dbo_ELMAH_Error;
SELECT [ErrorId], [Application], [Host], [Type], [Source], [Message], [User], [StatusCode], [TimeUtc], [Sequence], [AllXml] INTO #dbo_ELMAH_Error FROM [dbo].[ELMAH_Error] WHERE 0=1;

SET IDENTITY_INSERT #dbo_ELMAH_Error ON;

INSERT INTO #dbo_ELMAH_Error 
 ([ErrorId], [Application], [Host], [Type], [Source], [Message], [User], [StatusCode], [TimeUtc], [Sequence], [AllXml])
SELECT CAST([ErrorId] AS uniqueidentifier) AS [ErrorId], [Application], [Host], [Type], [Source], [Message], [User], [StatusCode], [TimeUtc], [Sequence], [AllXml] FROM 
(VALUES
	  ('b0e03786-1e7d-437e-bed9-c41917a70db9',	N'/LM/W3SVC/4/ROOT',	N'SAI-PC',	N'System.NullReferenceException',	N'WebTimeSheetManagement',	N'Object reference not set to an instance of an object.',	N'',	0,	'20180510 18:52:09.110',	1,	N'<error
  host="SAI-PC"
  type="System.NullReferenceException"
  message="Object reference not set to an instance of an object."
  source="WebTimeSheetManagement"
  detail="System.NullReferenceException: Object reference not set to an instance of an object.&#xD;&#xA;   at WebTimeSheetManagement.Controllers.LoginController.Login(LoginViewModel loginViewModel) in D:\Projects\WebTimeSheetManagement\WebTimeSheetManagement\Controllers\LoginController.cs:line 113&#xD;&#xA;   at lambda_method(Closure , ControllerBase , Object[] )&#xD;&#xA;   at System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)&#xD;&#xA;   at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)&#xD;&#xA;   at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)&#xD;&#xA;   at System.Web.Mvc.Async.AsyncControllerActionInvoker.&lt;BeginInvokeSynchronousActionMethod&gt;b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)&#xD;&#xA;   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)&#xD;&#xA;   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()&#xD;&#xA;   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)&#xD;&#xA;   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.&lt;InvokeActionMethodFilterAsynchronouslyRecursive&gt;b__3d()&#xD;&#xA;   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.&lt;&gt;c__DisplayClass46.&lt;InvokeActionMethodFilterAsynchronouslyRecursive&gt;b__3f()&#xD;&#xA;   at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.&lt;&gt;c__DisplayClass46.&lt;InvokeActionMethodFilterAsynchronouslyRecursive&gt;b__3f()&#xD;&#xA;   at System.Web.Mvc.Async.AsyncControllerActionInvoker.&lt;&gt;c__DisplayClass33.&lt;BeginInvokeActionMethodWithFilters&gt;b__32(IAsyncResult asyncResult)&#xD;&#xA;   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)&#xD;&#xA;   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()&#xD;&#xA;   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)&#xD;&#xA;   at System.Web.Mvc.Async.AsyncControllerActionInvoker.&lt;&gt;c__DisplayClass21.&lt;&gt;c__DisplayClass2b.&lt;BeginInvokeAction&gt;b__1c()&#xD;&#xA;   at System.Web.Mvc.Async.AsyncControllerActionInvoker.&lt;&gt;c__DisplayClass21.&lt;BeginInvokeAction&gt;b__1e(IAsyncResult asyncResult)"
  time="2018-05-10T18:52:09.1111059Z">
  <serverVariables>
    <item
      name="ALL_HTTP">
      <value
        string="HTTP_CACHE_CONTROL:max-age=0&#xD;&#xA;HTTP_CONNECTION:keep-alive&#xD;&#xA;HTTP_CONTENT_LENGTH:240&#xD;&#xA;HTTP_CONTENT_TYPE:application/x-www-form-urlencoded&#xD;&#xA;HTTP_ACCEPT:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8&#xD;&#xA;HTTP_ACCEPT_ENCODING:gzip, deflate, br&#xD;&#xA;HTTP_ACCEPT_LANGUAGE:en-US,en;q=0.9&#xD;&#xA;HTTP_COOKIE:ASP.NET_SessionId=yufyns22dycacb13sx2mcjiv; __RequestVerificationToken=C-3kUdfJ503BChLB8Y-_ydyEuXICxJUVTFAsignmQn9fPhMn_ciQajoZOWeiKWCT2-mgMks-VE4Gg9AMUPDrZ8CkaFcogqDiPpQ9NNuGljg1&#xD;&#xA;HTTP_HOST:localhost:49649&#xD;&#xA;HTTP_REFERER:http://localhost:49649/&#xD;&#xA;HTTP_USER_AGENT:Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36&#xD;&#xA;HTTP_ORIGIN:http://localhost:49649&#xD;&#xA;HTTP_UPGRADE_INSECURE_REQUESTS:1&#xD;&#xA;" />
    </item>
    <item
      name="ALL_RAW">
      <value
        string="Cache-Control: max-age=0&#xD;&#xA;Connection: keep-alive&#xD;&#xA;Content-Length: 240&#xD;&#xA;Content-Type: application/x-www-form-urlencoded&#xD;&#xA;Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8&#xD;&#xA;Accept-Encoding: gzip, deflate, br&#xD;&#xA;Accept-Language: en-US,en;q=0.9&#xD;&#xA;Cookie: ASP.NET_SessionId=yufyns22dycacb13sx2mcjiv; __RequestVerificationToken=C-3kUdfJ503BChLB8Y-_ydyEuXICxJUVTFAsignmQn9fPhMn_ciQajoZOWeiKWCT2-mgMks-VE4Gg9AMUPDrZ8CkaFcogqDiPpQ9NNuGljg1&#xD;&#xA;Host: localhost:49649&#xD;&#xA;Referer: http://localhost:49649/&#xD;&#xA;User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36&#xD;&#xA;Origin: http://localhost:49649&#xD;&#xA;Upgrade-Insecure-Requests: 1&#xD;&#xA;" />
    </item>
    <item
      name="APPL_MD_PATH">
      <value
        string="/LM/W3SVC/4/ROOT" />
    </item>
    <item
      name="APPL_PHYSICAL_PATH">
      <value
        string="D:\Projects\WebTimeSheetManagement\WebTimeSheetManagement\" />
    </item>
    <item
      name="AUTH_TYPE">
      <value
        string="" />
    </item>
    <item
      name="AUTH_USER">
      <value
        string="" />
    </item>
    <item
      name="AUTH_PASSWORD">
      <value
        string="" />
    </item>
    <item
      name="LOGON_USER">
      <value
        string="" />
    </item>
    <item
      name="REMOTE_USER">
      <value
        string="" />
    </item>
    <item
      name="CERT_COOKIE">
      <value
        string="" />
    </item>
    <item
      name="CERT_FLAGS">
      <value
        string="" />
    </item>
    <item
      name="CERT_ISSUER">
      <value
        string="" />
    </item>
    <item
      name="CERT_KEYSIZE">
      <value
        string="" />
    </item>
    <item
      name="CERT_SECRETKEYSIZE">
      <value
        string="" />
    </item>
    <item
      name="CERT_SERIALNUMBER">
      <value
        string="" />
    </item>
    <item
      name="CERT_SERVER_ISSUER">
      <value
        string="" />
    </item>
    <item
      name="CERT_SERVER_SUBJECT">
      <value
        string="" />
    </item>
    <item
      name="CERT_SUBJECT">
      <value
        string="" />
    </item>
    <item
      name="CONTENT_LENGTH">
      <value
        string="240" />
    </item>
    <item
      name="CONTENT_TYPE">
      <value
        string="application/x-www-form-urlencoded" />
    </item>
    <item
      name="GATEWAY_INTERFACE">
      <value
        string="CGI/1.1" />
    </item>
    <item
      name="HTTPS">
      <value
        string="off" />
    </item>
    <item
      name="HTTPS_KEYSIZE">
      <value
        string="" />
    </item>
    <item
      name="HTTPS_SECRETKEYSIZE">
      <value
        string="" />
    </item>
    <item
      name="HTTPS_SERVER_ISSUER">
      <value
        string="" />
    </item>
    <item
      name="HTTPS_SERVER_SUBJECT">
      <value
        string="" />
    </item>
    <item
      name="INSTANCE_ID">
      <value
        string="4" />
    </item>
    <item
      name="INSTANCE_META_PATH">
      <value
        string="/LM/W3SVC/4" />
    </item>
    <item
      name="LOCAL_ADDR">
      <value
        string="::1" />
    </item>
    <item
      name="PATH_INFO">
      <value
        string="/" />
    </item>
    <item
      name="PATH_TRANSLATED">
      <value
        string="D:\Projects\WebTimeSheetManagement\WebTimeSheetManagement" />
    </item>
    <item
      name="QUERY_STRING">
      <value
        string="" />
    </item>
    <item
      name="REMOTE_ADDR">
      <value
        string="::1" />
    </item>
    <item
      name="REMOTE_HOST">
      <value
        string="::1" />
    </item>
    <item
      name="REMOTE_PORT">
      <value
        string="51539" />
    </item>
    <item
      name="REQUEST_METHOD">
      <value
        string="POST" />
    </item>
    <item
      name="SCRIPT_NAME">
      <value
        string="/" />
    </item>
    <item
      name="SERVER_NAME">
      <value
        string="localhost" />
    </item>
    <item
      name="SERVER_PORT">
      <value
        string="49649" />
    </item>
    <item
      name="SERVER_PORT_SECURE">
      <value
        string="0" />
    </item>
    <item
      name="SERVER_PROTOCOL">
      <value
        string="HTTP/1.1" />
    </item>
    <item
      name="SERVER_SOFTWARE">
      <value
        string="Microsoft-IIS/10.0" />
    </item>
    <item
      name="URL">
      <value
        string="/" />
    </item>
    <item
      name="HTTP_CACHE_CONTROL">
      <value
        string="max-age=0" />
    </item>
    <item
      name="HTTP_CONNECTION">
      <value
        string="keep-alive" />
    </item>
    <item
      name="HTTP_CONTENT_LENGTH">
      <value
        string="240" />
    </item>
    <item
      name="HTTP_CONTENT_TYPE">
      <value
        string="application/x-www-form-urlencoded" />
    </item>
    <item
      name="HTTP_ACCEPT">
      <value
        string="text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8" />
    </item>
    <item
      name="HTTP_ACCEPT_ENCODING">
      <value
        string="gzip, deflate, br" />
    </item>
    <item
      name="HTTP_ACCEPT_LANGUAGE">
      <value
        string="en-US,en;q=0.9" />
    </item>
    <item
      name="HTTP_COOKIE">
      <value
        string="ASP.NET_SessionId=yufyns22dycacb13sx2mcjiv; __RequestVerificationToken=C-3kUdfJ503BChLB8Y-_ydyEuXICxJUVTFAsignmQn9fPhMn_ciQajoZOWeiKWCT2-mgMks-VE4Gg9AMUPDrZ8CkaFcogqDiPpQ9NNuGljg1" />
    </item>
    <item
      name="HTTP_HOST">
      <value
        string="localhost:49649" />
    </item>
    <item
      name="HTTP_REFERER">
      <value
        string="http://localhost:49649/" />
    </item>
    <item
      name="HTTP_USER_AGENT">
      <value
        string="Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36" />
    </item>
    <item
      name="HTTP_ORIGIN">
      <value
        string="http://localhost:49649" />
    </item>
    <item
      name="HTTP_UPGRADE_INSECURE_REQUESTS">
      <value
        string="1" />
    </item>
  </serverVariables>
  <form>
    <item
      name="__RequestVerificationToken">
      <value
        string="VcQAemHPMz9PrZKy5X0dv3gEyAnilLt0WZtLPPcjI8Nv10NRYf2gk9uGwAW2NYVxx9xO6APCpwGbDA9ZRM5dZuMmQjeUgkz1PbMkGxQkRto1" />
    </item>
    <item
      name="Username">
      <value
        string="demouser" />
    </item>
    <item
      name="Password">
      <value
        string="1234567" />
    </item>
    <item
      name="CaptchaDeText">
      <value
        string="f22ed465e2e84454b5ceb8e10ef1920d" />
    </item>
    <item
      name="CaptchaInputText">
      <value
        string="yusnu" />
    </item>
  </form>
  <cookies>
    <item
      name="ASP.NET_SessionId">
      <value
        string="yufyns22dycacb13sx2mcjiv" />
    </item>
    <item
      name="__RequestVerificationToken">
      <value
        string="C-3kUdfJ503BChLB8Y-_ydyEuXICxJUVTFAsignmQn9fPhMn_ciQajoZOWeiKWCT2-mgMks-VE4Gg9AMUPDrZ8CkaFcogqDiPpQ9NNuGljg1" />
    </item>
  </cookies>
</error>')
) as v ([ErrorId], [Application], [Host], [Type], [Source], [Message], [User], [StatusCode], [TimeUtc], [Sequence], [AllXml]);


SET IDENTITY_INSERT #dbo_ELMAH_Error OFF;

SET IDENTITY_INSERT [dbo].[ELMAH_Error] ON;


WITH cte_data as (SELECT CAST([ErrorId] AS uniqueidentifier) AS [ErrorId], [Application], [Host], [Type], [Source], [Message], [User], [StatusCode], [TimeUtc], [Sequence], [AllXml] FROM [#dbo_ELMAH_Error])
MERGE [dbo].[ELMAH_Error] as t
USING cte_data as s
	ON t.[ErrorId] = s.[ErrorId]
WHEN NOT MATCHED BY target THEN
	INSERT ([ErrorId], [Application], [Host], [Type], [Source], [Message], [User], [StatusCode], [TimeUtc], [Sequence], [AllXml])
	VALUES (s.[ErrorId], s.[Application], s.[Host], s.[Type], s.[Source], s.[Message], s.[User], s.[StatusCode], s.[TimeUtc], s.[Sequence], s.[AllXml])
WHEN MATCHED THEN 
	UPDATE SET 
	[Application] = s.[Application], [Host] = s.[Host], [Type] = s.[Type], [Source] = s.[Source], [Message] = s.[Message], [User] = s.[User], [StatusCode] = s.[StatusCode], [TimeUtc] = s.[TimeUtc], [Sequence] = s.[Sequence], [AllXml] = s.[AllXml]
WHEN NOT MATCHED BY source THEN
	DELETE
;

SET IDENTITY_INSERT [dbo].[ELMAH_Error] OFF;

DROP TABLE #dbo_ELMAH_Error;

-- End data of table: [dbo].[ELMAH_Error] --
END
GO
